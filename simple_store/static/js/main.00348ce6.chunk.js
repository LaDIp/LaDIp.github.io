(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{12:function(t,e,c){t.exports={product:"Product_product__2AYrf",productArticle:"Product_productArticle__1T1cM",price:"Product_price__1F7B4",addCart:"Product_addCart__YPaBF",img:"Product_img__9M5Yo",title:"Product_title__1oAzB",back:"Product_back__27WCR"}},14:function(t,e,c){t.exports={product:"Product_product__3vHOH",price:"Product_price__1eMlE",addCart:"Product_addCart__3NlGO",showMore:"Product_showMore__14NHH",img:"Product_img__3tl1S",rating:"Product_rating__3-FkM"}},24:function(t,e,c){t.exports={cart:"Cart_cart__3GuFD",cartButton:"Cart_cartButton__KNFQ0"}},28:function(t,e,c){t.exports={productsList:"ProductsList_productsList__2Ce5v"}},29:function(t,e,c){t.exports={select:"Select_select__20J0I"}},47:function(t,e,c){},48:function(t,e,c){},49:function(t,e,c){"use strict";c.r(e);var r=c(0),a=c(15),n=c.n(a),i=c(18),o=c(4),s=c(61),u=c(6),d=c(20),l=c(32),j=c(3),p={products:[],categories:[],cart:{}},b="GET_PRODUCTS",O="GET_CATEGORIES",h="ADD_PRODUCT",f="DEL_PRODUCT",x="INC_PRODUCT",m="DEC_PRODUCT",_=function(t){return{type:h,payload:t}},v=c(24),g=c.n(v),y=c(2);var N=function(){var t,e,c,a=Object(u.b)(),n=Object(u.c)((function(t){return t.cart.cart})),i=Object(r.useState)(!1),o=Object(d.a)(i,2),s=o[0],l=o[1],j=function(t){l(1!==Object.keys(n.products).length),a({type:f,payload:t})},p=function(t){a({type:x,payload:t})},b=function(t){a({type:m,payload:t})};return console.log(n),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("button",{className:g.a.cartButton,onClick:function(){var t;l(0!==(null===(t=n.products)||void 0===t?void 0:t.length)&&0!==Object.keys(n).length&&!s)},children:["Cart",Object(y.jsx)("span",{children:"\xa0"}),(null===(t=n.products)||void 0===t?void 0:t.length)>0&&(null===(e=n.products)||void 0===e?void 0:e.reduce((function(t,e){return t+e.product.price*e.quantity}),0).toFixed(2))]}),s?Object(y.jsxs)("table",{className:g.a.cart,children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:"Name"}),Object(y.jsx)("td",{children:"Amount"}),Object(y.jsx)("td",{children:"Price"})]})}),Object(y.jsx)("tbody",{children:null===(c=n.products)||void 0===c?void 0:c.map((function(t){return Object(y.jsxs)("tr",{className:g.a.cartItems,children:[Object(y.jsx)("td",{children:t.product.title}),Object(y.jsxs)("td",{children:[Object(y.jsx)("button",{onClick:function(){return b(t)},disabled:1===t.quantity?"disabled":null,children:"-"}),t.quantity,Object(y.jsx)("button",{onClick:function(){return p(t)},children:"+"})]}),Object(y.jsx)("td",{children:t.product.price.toFixed(2)}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return j(t)},children:"X"})})]})}))})]}):null]})},C=function(){return function(t){fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(e){return t({type:b,payload:e})}))}},P=c(12),k=c.n(P);var D=function(t){var e=t.match.params.id,c=Object(u.b)(),r=Object(u.c)((function(t){return t.products.products})).filter((function(t){return t.id===Number(e)}))[0];return r?Object(y.jsxs)("div",{className:"contaner",children:[Object(y.jsxs)("div",{className:"panel",children:[Object(y.jsx)(i.b,{className:k.a.back,to:"/",children:"< Back"}),Object(y.jsx)(N,{})]}),Object(y.jsxs)("div",{className:k.a.product,children:[Object(y.jsx)("img",{className:k.a.img,src:r.image,alt:""}),Object(y.jsxs)("article",{className:k.a.productArticle,children:[Object(y.jsx)("h1",{className:k.a.title,children:r.title}),Object(y.jsx)("p",{className:k.a.description,children:r.description}),Object(y.jsx)(s.a,{className:k.a.rating,name:"read-only",precision:.1,value:r.rating.rate,readOnly:!0}),Object(y.jsxs)("p",{className:k.a.price,children:["$",r.price]}),Object(y.jsx)("div",{className:k.a.buttons,children:Object(y.jsx)("button",{className:k.a.addCart,onClick:function(){c(_({product:r,quantity:1}))},children:"Add to cart"})})]})]})]}):Object(y.jsx)("h2",{children:"Product not found!"})},q=c(14),w=c.n(q);var A=function(t){var e=t.product,c=Object(u.b)();return Object(u.c)((function(t){return t.cart.cart})),Object(y.jsxs)("li",{className:w.a.product,id:e.id,onClick:null,children:[Object(y.jsx)("img",{className:w.a.img,src:e.image,alt:""}),Object(y.jsx)("p",{className:w.a.title,children:e.title}),Object(y.jsx)(s.a,{className:w.a.rating,name:"read-only",precision:.1,value:e.rating.rate,readOnly:!0}),Object(y.jsxs)("p",{className:w.a.price,children:["$",e.price]}),Object(y.jsxs)("div",{className:w.a.buttons,children:[Object(y.jsx)("button",{className:w.a.addCart,onClick:function(){c(_({product:e,quantity:1}))},children:"Add to cart"}),Object(y.jsx)(i.b,{to:"/product/".concat(e.id),className:w.a.showMore,children:"Show more"})]})]})},S=c(28),F=c.n(S);var T=function(t){var e=t.products;return Object(y.jsx)("ul",{className:F.a.productsList,children:e.map((function(t){return Object(y.jsx)(A,{product:t},t.id)}))})},E=(c(47),function(t){return function(t){fetch("https://fakestoreapi.com/products/categories").then((function(t){return t.json()})).then((function(e){return t({type:O,payload:e})}))}}),B=[{value:"increase_price",title:"Increase price"},{value:"decrease_price",title:"Decrease price"},{value:"increase_rating",title:"Increase rating"},{value:"decrease_rating",title:"Decrease rating"}],I=c(29),M=c.n(I);var R=function(t){var e=t.id,c=t.label,r=t.disabledOption,a=t.defaultOption,n=t.options,i=t.onChange;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("label",{htmlFor:e,children:[c,":"]}),Object(y.jsxs)("select",{className:M.a.select,id:e,onChange:function(t){return i(t)},children:[Object(y.jsx)("option",{disabled:!0,selected:!0,children:r}),a&&Object(y.jsx)("option",{value:a.value,children:a.title}),n.map((function(t){return Object(y.jsx)("option",{value:t.value,children:t.title},t.value)}))]})]})};var L=function(){Object(u.b)();var t=Object(r.useState)("all"),e=Object(d.a)(t,2),c=e[0],a=e[1],n=Object(r.useState)("default"),i=Object(d.a)(n,2),o=i[0],s=i[1],l=Object(u.c)((function(t){return t.products.products})).filter(function(t){return function(e){return"all"===t?e:e.category===t}}(c)).sort(function(t){switch(t){case"increase_price":return function(t,e){return t.price-e.price};case"decrease_price":return function(t,e){return e.price-t.price};case"increase_rating":return function(t,e){return t.rating.rate-e.rating.rate};case"decrease_rating":return function(t,e){return e.rating.rate-t.rating.rate};default:return}}(o)),j=Object(u.c)((function(t){return t.categories.categories}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"contaner",children:[Object(y.jsxs)("div",{className:"panel",children:[Object(y.jsx)(R,{id:"category",label:"Category",disabledOption:"Select category",defaultOption:{value:"all",title:"All"},options:j.map((function(t){return{value:t,title:t.charAt(0).toUpperCase()+t.slice(1)}})),onChange:function(t){t.preventDefault(),a(t.target.value)}}),Object(y.jsx)(R,{id:"sort",label:"Sort by",disabledOption:"Select sort method",options:B,onChange:function(t){t.preventDefault(),s(t.target.value)}}),Object(y.jsx)(N,{})]}),0===(null===l||void 0===l?void 0:l.length)?Object(y.jsx)("h2",{children:"Loading..."}):Object(y.jsx)(T,{products:l})]})})};c(48);var U=function(){var t=Object(u.b)();return Object(r.useEffect)((function(){t(C()),t(E())}),[]),Object(y.jsx)(i.a,{basename:"/",children:Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{exact:!0,path:"/",children:Object(y.jsx)(L,{})}),Object(y.jsx)(o.a,{exact:!0,path:"/product/:id",component:D})]})})},G=c(21),H=c(30),J=c(31),Y=Object(G.combineReducers)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(j.a)(Object(j.a)({},t),{},{products:e.payload});default:return t}},categories:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return Object(j.a)(Object(j.a)({},t),{},{categories:e.payload});default:return t}},cart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e),e.type){case h:if(0===Object.keys(t.cart).length)return Object(j.a)(Object(j.a)({},t),{},{cart:{id:null,userId:null,date:Date.now(),products:[e.payload]}});var c=t.cart.products.find((function(t){return t.product.id===e.payload.product.id}));return c?Object(j.a)(Object(j.a)({},t),{},{cart:Object(j.a)(Object(j.a)({},t.cart),{},{products:t.cart.products.map((function(t){return t.product.id===e.payload.product.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity+1}):t}))})}):Object(j.a)(Object(j.a)({},t),{},{cart:Object(j.a)(Object(j.a)({},t.cart),{},{products:[].concat(Object(l.a)(t.cart.products),[e.payload])})});case f:return Object(j.a)(Object(j.a)({},t),{},{cart:Object(j.a)(Object(j.a)({},t.cart),{},{products:t.cart.products.filter((function(t){return t.product.id!==e.payload.product.id}))})});case x:return Object(j.a)(Object(j.a)({},t),{},{cart:Object(j.a)(Object(j.a)({},t.cart),{},{products:t.cart.products.map((function(t){return t.product.id===e.payload.product.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity+1}):t}))})});case m:return Object(j.a)(Object(j.a)({},t),{},{cart:Object(j.a)(Object(j.a)({},t.cart),{},{products:t.cart.products.map((function(t){return t.product.id===e.payload.product.id&&t.quantity>1?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity-1}):t}))})});default:return t}}}),W=Object(G.createStore)(Y,Object(H.composeWithDevTools)(Object(G.applyMiddleware)(J.a)));n.a.render(Object(y.jsx)(u.a,{store:W,children:Object(y.jsx)(U,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.00348ce6.chunk.js.map