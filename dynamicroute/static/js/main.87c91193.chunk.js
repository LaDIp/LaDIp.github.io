(this.webpackJsonpdynamicroute=this.webpackJsonpdynamicroute||[]).push([[0],{22:function(e,t,n){e.exports={list:"style_list__2Sdh9",list__link:"style_list__link__3nXdt"}},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var o,s=n(0),r=n.n(s),a=n(16),c=n.n(a),i=n(23),u=n(11),l=n(1),d=n(7),b=n(15),j=n(13),h=n.n(j),f=n(14),_=n(10);!function(e){e.ADD_NODE="ADD_NODE"}(o||(o={}));var m={routeNodeAddAction:function(e){return{type:o.ADD_NODE,payload:e}}},O=f.c,p=n(9),x=n.n(p),v=n(22),N=n.n(v),y=r.a.createContext({}),D=n(2),g=function(e){var t=e.nodes,n=Object(s.useContext)(y).theme;return Object(D.jsx)("ul",{className:N.a.list,children:t.map((function(e){return Object(D.jsx)(u.b,{className:h()(N.a.list__link,{fb:"fb"===n,wa:"wa"===n}),to:"."+e.route,children:e.title},e.route)}))})};var w=function(e){var t=Object(s.useState)("fb"),n=Object(d.a)(t,2),o=n[0],r=n[1],a=Object(l.f)(),c=function(){var e=Object(f.b)();return Object(_.bindActionCreators)(m,e)}().routeNodeAddAction;return Object(s.useEffect)((function(){r(0===e.nodes.length?"fb":"wa")}),[e,r]),Object(D.jsx)(y.Provider,{value:{theme:o},children:Object(D.jsxs)("div",{className:x.a.card,children:[Object(D.jsx)("h1",{className:x.a.head,children:e.title}),Object(D.jsx)(u.b,{className:h()(x.a.back,{fb:"fb"===o,wa:"wa"===o}),to:a.pathname.replace(e.route,""),children:"Back"}),Object(D.jsx)(b.c,{initialValues:{route:"",title:""},onSubmit:function(e,t){console.log({values:e,actions:t}),t.setSubmitting(!1),t.resetForm(),c({path:a.pathname,newNode:{route:"/"+e.route,nodes:[],title:e.title}})},children:Object(D.jsxs)(b.b,{className:x.a.form,children:[Object(D.jsx)(b.a,{className:x.a.form__input,id:"route",name:"route",placeholder:"Route"}),Object(D.jsx)(b.a,{className:x.a.form__input,id:"title",name:"title",placeholder:"Title"}),Object(D.jsx)("button",{className:h()(x.a.form__submit,{fb:"fb"===o,wa:"wa"===o}),type:"submit",children:"Add Node"})]})}),Object(D.jsx)("h1",{className:x.a.head,children:"Nodes"}),Object(D.jsx)(g,{nodes:e.nodes})]})})},k=n(27),A=n(28),E=function(){function e(t){Object(k.a)(this,e),this.tree=void 0,this.tree=t}return Object(A.a)(e,[{key:"setRoutes",value:function(){return e.setRoutes(this.tree,this.tree.route)}}],[{key:"setRoutes",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.nodes.forEach((function(t){e.setRoutes(t,n+t.route,o)})),o.push({path:n,node:t}),o}}]),e}();n(43);var R=function(){var e=O((function(e){return e})),t=new E(e).setRoutes();return console.log(t),Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(u.a,{children:Object(D.jsxs)(l.d,{children:[Object(D.jsx)(l.b,{path:"/",element:Object(D.jsx)(l.a,{replace:!0,to:"/main"})}),Object(D.jsx)(l.b,{path:e.route,element:Object(D.jsx)(w,Object(i.a)({},e))}),t.map((function(e){var t=e.path,n=e.node;return Object(D.jsx)(l.b,{path:t,element:Object(D.jsx)(w,Object(i.a)({},n))},t)})),Object(D.jsx)(l.b,{path:"*",element:Object(D.jsx)("h1",{children:"404 Not Found"})})]})})})},S=n(29),C=n(30),T={route:"/main",nodes:[{route:"/title",nodes:[{route:"/text",nodes:[],title:"text"},{route:"/text2",nodes:[],title:"text2"}],title:"title"}],title:"Main"},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(C.a)(e,(function(e){if("ADD_NODE"!==t.type)return e;var n=t.payload,o=n.path,s=n.newNode;!function e(t,n,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(s===n.length){var r=t.nodes.find((function(e){return e.route===o.route}));r?alert("This node is already in the tree"):t.nodes.push(o)}else{var a=n[s];t.nodes.forEach((function(t){t.route.substring(1)===a&&e(t,n,o,s+=1)}))}}(e,o.substring(1).split("/"),s)}))},F=Object(_.createStore)(B,Object(S.composeWithDevTools)(Object(_.applyMiddleware)()));c.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(f.a,{store:F,children:Object(D.jsx)(R,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={card:"style_card__cC_9C",head:"style_head__3BLPN",back:"style_back__3TUXU",form:"style_form__2_314",form__input:"style_form__input__3HGG3",form__submit:"style_form__submit__25Dmi"}}},[[44,1,2]]]);
//# sourceMappingURL=main.87c91193.chunk.js.map